import{a as S,S as w,i as m}from"./assets/vendor-NoGusaEY.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const q="your_pixabay_api_key",v="https://pixabay.com/api/";async function y(e,t=1){const a={key:q,q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:15,page:t};try{return(await S.get(v,{params:a})).data}catch(n){throw n}}let E=new w(".gallery a");function h(e){const t=document.querySelector(".gallery"),a=e.map(({webformatURL:n,largeImageURL:r,tags:o,likes:s,views:p,comments:b,downloads:L})=>`
        <a href="${r}" class="gallery-item">
          <img src="${n}" alt="${o}" loading="lazy" />
          <div class="info">
            <p><b>Likes:</b> ${s}</p>
            <p><b>Views:</b> ${p}</p>
            <p><b>Comments:</b> ${b}</p>
            <p><b>Downloads:</b> ${L}</p>
          </div>
        </a>
      `).join("");t.insertAdjacentHTML("beforeend",a),E.refresh()}function I(){const e=document.querySelector(".gallery");e.innerHTML=""}function g(e){m.error({title:"Error",message:e})}function d(e){m.info({title:"Info",message:e})}function l(e){const t=document.querySelector(".loader");e?t.classList.remove("hidden"):t.classList.add("hidden")}const P=document.querySelector("#search-form"),_=document.querySelector('input[name="searchQuery"]'),c=document.querySelector(".load-more");let i="",u=1,f=0;P.addEventListener("submit",$);c.addEventListener("click",O);async function $(e){if(e.preventDefault(),i=_.value.trim(),!i){d("Please enter a search query");return}u=1,I(),c.classList.add("hidden"),l(!0);try{const t=await y(i,u);if(f=t.totalHits,t.hits.length===0){d("Sorry, there are no images matching your search query. Please try again!");return}h(t.hits),f>t.hits.length&&c.classList.remove("hidden")}catch{g("Something went wrong, please try again later.")}finally{l(!1)}}async function O(){u+=1,l(!0);try{const e=await y(i,u);h(e.hits),document.querySelectorAll(".gallery-item").length>=f&&(c.classList.add("hidden"),d("We're sorry, but you've reached the end of search results.")),A()}catch{g("Something went wrong, please try again later.")}finally{l(!1)}}function A(){const{height:e}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
