import{a as u,S as g}from"./assets/vendor-Bswv520s.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();const f="46121082-abdd5301ce27c2765f644588b",m="https://pixabay.com/api/",h=15;async function d(r,o=1){const a=`${m}?key=${f}&q=${r}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${h}&page=${o}`;try{const s=await u.get(a);if(s.data.hits.length===0)throw new Error("No images found");return{images:s.data.hits,totalHits:s.data.totalHits}}catch(s){throw console.error("Error fetching images:",s),new Error(s.message)}}new g(".gallery a");function y(){const r=document.querySelector(".gallery");r.innerHTML=""}const p=document.querySelector("#search-form"),L=document.querySelector(".load-more");let i="",n=1,c=0;p.addEventListener("submit",w);L.addEventListener("click",E);async function w(r){if(r.preventDefault(),i=r.currentTarget.elements.searchQuery.value.trim(),i===""){iziToast.error({message:"Please enter a search term"});return}n=1,y(),toggleLoadMoreBtn(!1),showLoader();try{const{images:o,totalHits:a}=await d(i,n);c=a,renderGallery(o),c>15&&toggleLoadMoreBtn(!0)}catch{showNoResultsMessage()}finally{hideLoader()}}async function E(){n+=1,toggleLoadMoreBtn(!1),showLoader();try{const{images:r}=await d(i,n);renderGallery(r),n*15>=c?(toggleLoadMoreBtn(!1),showEndOfResultsMessage()):toggleLoadMoreBtn(!0);const{height:o}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:o*2,behavior:"smooth"})}catch{iziToast.error({message:"Something went wrong during loading more images."})}finally{hideLoader()}}
//# sourceMappingURL=index.js.map
