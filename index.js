import{a as p}from"./assets/vendor--kuJrJgc.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();const g="46121082-abdd5301ce27c2765f644588b",h="https://pixabay.com/api/";let l=1;const L=15,b=async t=>{const o=await p.get(h,{params:{key:g,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:L}}),{hits:s,totalHits:n}=o.data;return l++,{hits:s,totalHits:n}},q=()=>{l=1},u=()=>{const t=document.querySelector("#gallery");t.innerHTML=""},S=t=>{const o=document.querySelector("#gallery"),s=t.map(({webformatURL:n,largeImageURL:e,tags:r})=>`
    <div class="gallery-item">
      <a href="${e}" class="gallery-link">
        <img src="${n}" alt="${r}" loading="lazy" />
      </a>
    </div>
  `).join("");o.insertAdjacentHTML("beforeend",s)},v=document.querySelector("#search-form"),d=document.querySelector("#loadMore"),y=document.querySelector("#loader"),c=document.querySelector("#notification");let i="",P=new SimpleLightbox(".gallery-item a");const x=()=>{y.style.display="block"},E=()=>{y.style.display="none"},M=()=>{d.style.display="block"},f=()=>{d.style.display="none"},m=async()=>{x();try{const{hits:t,totalHits:o}=await b(i);if(t.length===0){c.textContent="Нічого не знайдено за вашим запитом.";return}S(t),P.refresh(),document.querySelector("#gallery").childElementCount>=o?(f(),c.textContent="We're sorry, but you've reached the end of search results."):M()}catch(t){console.error("Error fetching images:",t),c.textContent="Сталася помилка. Спробуйте ще раз.",u()}finally{E()}};v.addEventListener("submit",t=>{t.preventDefault(),i=t.target.elements.query.value.trim(),i&&(u(),q(),f(),m())});d.addEventListener("click",()=>{m()});
//# sourceMappingURL=index.js.map
